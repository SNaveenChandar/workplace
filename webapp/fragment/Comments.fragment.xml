<core:FragmentDefinition
    xmlns="sap.m"
    xmlns:core="sap.ui.core"
    xmlns:f="sap.f"
    xmlns:form="sap.ui.layout.form"
    xmlns:u="sap.ui.unified"
    xmlns:layout="sap.ui.layout"
>
    <Dialog
        id="wizardDialog"
        showHeader="false"
        verticalScrolling="false"
        contentHeight="85%"
        contentWidth="90%"
        draggable="true"
        resizable="true"
    >
        <f:DynamicPage
            stickySubheaderProvider="CreateProductWizard"
            toggleHeaderOnTitleClick="false"
            class="sapUiNoContentPadding"
            showFooter="true"
        >
            <f:title>
                <f:DynamicPageTitle>
                    <f:heading>
                        <Title text="Object No: {objectId} - Comments" />
                    </f:heading>

                    <f:actions>
                        <Button
                            id="idEdit"
                            text="Edit"
                            type="Emphasized"
                            icon="sap-icon://edit"
                            press="onEdit"
                        />
                        <Button
                            id="idSave"
                            text="Save"
                            type="Success"
                            visible="false"
                            icon="sap-icon://save"
                            press="toggleAreaPriority"
                        />
                        <Button
                            id="idCancel"
                            text="Cancel"
                            type="Negative"
                            visible="false"
                            press="onCancel"
                        />
                        <Button
                            text="Close"
                            type="Reject"
                            press="onCommentsClose"
                        />
                    </f:actions>
                </f:DynamicPageTitle>
            </f:title>

            <f:content>
                <IconTabBar
                    id="idIconTabBar"
                    select=".onFilterSelect"
                    class="sapUiNoContentPadding"
                    expanded="true"
                    expandable="false"
                >
                    <items>
                        <!-- icon="sap-icon://edit-outside" -->
                        <IconTabFilter
                            design="Horizontal"
                            text="Review/Edit"
                            key="Ok"
                            class="sapUiNoContentPadding"
                        >
                            <VBox class="sapUiSmallMargin">
                                <form:SimpleForm
                                    id="idDisplayForm"
                                    editable="false"
                                    layout="ResponsiveGridLayout"
                                    title=""
                                    labelSpanXL="3"
                                    labelSpanL="3"
                                    labelSpanM="3"
                                    labelSpanS="12"
                                    adjustLabelSpan="false"
                                    emptySpanXL="4"
                                    emptySpanL="4"
                                    emptySpanM="4"
                                    emptySpanS="0"
                                    columnsXL="1"
                                    columnsL="1"
                                    columnsM="1"
                                    singleContainerFullSize="false"
                                >
                                    <form:content>
                                        <Label text="{i18n>PTDNo}" />
                                        <Text text="{ptdNumber}" />
                                        <Label text="{i18n>CDXID}" />
                                        <Text text="{emtsCDSID}" />
                                        <Label text="{i18n>BOL}" />
                                        <Text
                                            text="{emtsTradingPartnerBillOfLading}"
                                        />
                                    </form:content>
                                </form:SimpleForm>
                                <form:SimpleForm
                                    id="idEditForm"
                                    visible="false"
                                    editable="true"
                                    layout="ResponsiveGridLayout"
                                    title=""
                                    labelSpanXL="3"
                                    labelSpanL="3"
                                    labelSpanM="3"
                                    labelSpanS="12"
                                    adjustLabelSpan="false"
                                    emptySpanXL="4"
                                    emptySpanL="4"
                                    emptySpanM="4"
                                    emptySpanS="0"
                                    columnsXL="1"
                                    columnsL="1"
                                    columnsM="1"
                                    singleContainerFullSize="false"
                                >
                                    <form:content>
                                        <Label text="{i18n>PTDNo}" />
                                        <Input value="{ptdNumber}" />
                                        <Label text="{i18n>CDXID}" />
                                        <Input value="{emtsCDSID}" />
                                        <Label text="{i18n>BOL}" />
                                        <Input
                                            value="{emtsTradingPartnerBillOfLading}"
                                        />
                                    </form:content>
                                </form:SimpleForm>
                            </VBox>
                        </IconTabFilter>

                        <IconTabFilter
                            design="Horizontal"
                            text="{i18n>internalComments}"
                            class="sapUiNoContentPadding"
                        >
                            <Panel
                                expanded="true"
                                stickyHeader="true"
                                height="375px"
                                width="auto"
                                class="sapUiNoContentPadding"
                            >
                                <content>
                                    <List
                                        showSeparators="Inner"
                                        growing="true"
                                        growingThreshold="5"
                                        growingDirection="Downwards"
                                        growingTriggerText="Load Comments..."
                                        items="{comments>/internal}"
                                    >
                                        <FeedListItem
                                            sender="{comments>sender}"
                                            text="{comments>text}"
                                            timestamp="{comments>Date}"
                                        >
                                            <FeedListItemAction
                                                text="Edit"
                                                icon="sap-icon://edit"
                                                press="onEditInternalComment"
                                            />
                                        </FeedListItem>
                                    </List>
                                </content>
                            </Panel>
                            <FeedInput
                                id="idInternalCommentInput"
                                post="onPost"
                                showIcon="false"
                                placeholder="{i18n>commentPlaceholder}"
                                class="sapUiSmallMarginTopBottom"
                            />
                        </IconTabFilter>

                        <IconTabFilter
                            design="Horizontal"
                            text="{i18n>externalComments}"
                            class="sapUiNoContentPadding"
                        >
                            <Panel
                                expanded="true"
                                stickyHeader="true"
                                height="375px"
                                width="auto"
                                class="sapUiNoContentPadding"
                            >
                                <content>
                                    <List
                                        showSeparators="Inner"
                                        growing="true"
                                        growingThreshold="5"
                                        growingDirection="Downwards"
                                        growingTriggerText="Load Comments..."
                                        items="{comments>/external}"
                                    >
                                        <FeedListItem
                                            sender="{comments>sender}"
                                            text="{comments>text}"
                                        >
                                            <FeedListItemAction
                                                text="Edit"
                                                icon="sap-icon://edit"
                                                press="onEditExternalComment"
                                            />
                                        </FeedListItem>
                                    </List>
                                </content>
                            </Panel>

                            <FeedInput
                                showIcon="false"
                                post="onPost"
                                placeholder="{i18n>commentPlaceholder}"
                                class="sapUiSmallMarginTopBottom"
                            />
                        </IconTabFilter>
                    </items>
                    <content />
                </IconTabBar>
            </f:content>
        </f:DynamicPage>
    </Dialog>
</core:FragmentDefinition>
